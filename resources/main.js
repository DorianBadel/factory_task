"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var sliderGalleryTop=document.querySelector(".slider__gallery--top"),sliderGalleryBottom=document.querySelector(".slider__gallery--bottom"),imagesTop=document.querySelectorAll(".slider__gallery--top img"),imagesBottom=document.querySelectorAll(".slider__gallery--bottom img"),btnNext=document.querySelector(".button-next"),btnPrev=document.querySelector(".button-previous"),focusIdTop=1,focusIdBottom=1,offsetTop=0,offsetBottom=0,isDisabledBack=!1,isDisabledForward=!1,paddingTop=10,paddingBottom=10,buttonContainerWidth=159,arrayWidthTop=2*calculateWidthTop(),arrayWidthBottom=2*calculateWidthBottom()+buttonContainerWidth;setInitialGalleryState();function setInitialGalleryState(){sliderGalleryTop.append.apply(sliderGalleryTop,_toConsumableArray(Array.from(sliderGalleryTop.childNodes).reverse())),sliderGalleryBottom.append.apply(sliderGalleryBottom,_toConsumableArray(Array.from(sliderGalleryBottom.childNodes).reverse()));var a=document.querySelector(".slider__gallery--top").innerHTML,b=document.querySelector(".slider__gallery--bottom").innerHTML;// I am using three identical arrays to allow me to later reset
// the starting position without it being noticed
sliderGalleryTop.innerHTML=a+a+a,sliderGalleryBottom.innerHTML=b+b+b,resetPositionTop(),resetPositionBottom()}function resetPositionTop(){sliderGalleryTop.style.transform="translateX(-".concat(arrayWidthTop,"px)")}function resetPositionBottom(){sliderGalleryBottom.style.transform="translateX(-".concat(arrayWidthBottom,"px)")}// --- Listeners ---
btnPrev.addEventListener("click",function(){// Setting the desired animation
sliderGalleryTop.style.transition="400ms ease-in-out transform",sliderGalleryBottom.style.transition="400ms ease-in-out transform",isDisabledBack||(isDisabledBack=!0,moveRowBack(),setTimeout(function(){isDisabledBack=!1},400))}),btnNext.addEventListener("click",function(){sliderGalleryTop.style.transition="400ms ease-in-out transform",sliderGalleryBottom.style.transition="400ms ease-in-out transform",isDisabledForward||(isDisabledForward=!0,moveRowForward(),setTimeout(function(){isDisabledForward=!1},400))}),btnPrev.addEventListener("mouseover",function(){btnPrev.firstChild.src="./assets/images/arrow-blue-left.png"}),btnPrev.addEventListener("mouseleave",function(){btnPrev.firstChild.src="./assets/images/arrow-gray-left.png"}),btnNext.addEventListener("mouseover",function(){btnNext.firstChild.src="./assets/images/arrow-blue-right.png"}),btnNext.addEventListener("mouseleave",function(){btnNext.firstChild.src="./assets/images/arrow-gray-right.png"}),sliderGalleryTop.addEventListener("transitionend",function(){(Math.abs(focusIdTop)>imagesTop.length||1==focusIdTop)&&(sliderGalleryTop.style.transition="none",resetPositionTop(),focusIdTop=1,offsetTop=0)}),sliderGalleryBottom.addEventListener("transitionend",function(){(Math.abs(focusIdBottom)>imagesBottom.length||1==focusIdBottom)&&(sliderGalleryBottom.style.transition="none",resetPositionBottom(),focusIdBottom=1,offsetBottom=0)});function calculateWidthTop(){var a=0;return imagesTop.forEach(function(b){return a+=b.width+paddingTop}),a}function calculateWidthBottom(){var a=0;return imagesBottom.forEach(function(b){return a+=b.width+paddingBottom}),a}function moveRowBack(){var a=Math.abs;focusIdTop==imagesTop.length?(focusIdTop=1,resetPositionTop()):1<focusIdTop?(offsetTop+=imagesTop[focusIdTop-1].width/2+paddingTop,sliderGalleryTop.style.transform="translateX(-".concat(arrayWidthTop-offsetTop,"px)"),focusIdTop++):(offsetTop+=imagesTop[a(focusIdTop)-1].width/2+paddingTop,sliderGalleryTop.style.transform="translateX(-".concat(arrayWidthTop-offsetTop,"px)"),1==focusIdTop?focusIdTop=-2:focusIdTop--),focusIdBottom==imagesBottom.length?(focusIdBottom=1,resetPositionBottom()):1<focusIdBottom?(offsetBottom+=imagesBottom[focusIdBottom-1].width/2+paddingBottom,sliderGalleryBottom.style.transform="translateX(-".concat(arrayWidthBottom-offsetBottom,"px)"),focusIdBottom++):(offsetBottom+=imagesBottom[a(focusIdBottom)-1].width/2+paddingBottom,sliderGalleryBottom.style.transform="translateX(-".concat(arrayWidthBottom-offsetBottom,"px)"),1==focusIdBottom?focusIdBottom=-2:focusIdBottom--)}function moveRowForward(){var a=Math.abs;1==a(focusIdTop)&&(focusIdTop=imagesTop.length+1),1==a(focusIdBottom)&&(focusIdBottom=imagesBottom.length+1),0<focusIdTop?(focusIdTop--,offsetTop-=imagesTop[a(focusIdTop)-1].width/2+paddingTop,sliderGalleryTop.style.transform="translateX(-".concat(arrayWidthTop-offsetTop,"px)")):(focusIdTop++,offsetTop-=imagesTop[a(focusIdTop)-1].width/2+paddingTop,sliderGalleryTop.style.transform="translateX(-".concat(arrayWidthTop-offsetTop,"px)")),0<focusIdBottom?(focusIdBottom--,offsetBottom-=imagesBottom[a(focusIdBottom)-1].width/2+paddingBottom,sliderGalleryBottom.style.transform="translateX(-".concat(arrayWidthBottom-offsetBottom,"px)")):(focusIdBottom++,offsetBottom-=imagesBottom[a(focusIdBottom)-1].width/2+paddingBottom,sliderGalleryBottom.style.transform="translateX(-".concat(arrayWidthBottom-offsetBottom,"px)"))}